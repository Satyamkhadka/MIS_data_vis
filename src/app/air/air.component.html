<!-- <span class="spinner-border p-1" role="status" *ngIf="loading">
    <span class="sr-only">Loading...</span>
</span> -->
<section>
  <div>
    <div class="map-frame">
        <div id="mapid" style="width: 100%; height: 400px;"></div>
    </div>
  </div>
</section>

<section>
  <div class="container-fluid mt-5">
    <form class="form" [formGroup]="filterForm">

      <div class="form-row">
        <div class="form-group col-12">

          <select id="station" class="form-control form-control-lg" formControlName="station"
            (change)="onStationChange(filterForm.value.station)">
            <option selected value="none">All</option>
            <option *ngFor="let item of allStation" [value]="item['id']">{{item['stationName']}}
            </option>
          </select>
        </div>


      </div>

    </form>
  </div>
  <div class="container-fluid">
    <div class="row">

      <div class="col">
        <div class="row pt-md-5 mt-md-3 mb-5">
          <div class="col-xl-3 col-sm-6 p-2">
            <div class="card card-common">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div class="text-right text-secondary">
                    <h5>PM 25</h5>
                    <h6>{{this.latestDataChart[0]}}</h6>

                  </div>
                </div>
              </div>
              <div class="card-footer text-secondary">
                <!-- <i class="fa fa-sync mr-3"></i> -->
                <span>
                  <h6>{{latestData[0]['params']['pm25'][0]['datetime']}}</h6>
                </span>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 p-2">
            <div class="card card-common">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <!-- <i class="fa fa-money-bill-alt fa-3x text-success"></i> -->
                  <div class="text-right text-secondary">
                    <h5>PM TSP</h5>
                    <h6>{{this.latestDataChart[1]}}</h6>
                  </div>
                </div>
              </div>
              <div class="card-footer text-secondary">
                <!-- <i class="fa fa-sync mr-3"></i> -->
                <span>
                  <h6>{{latestData[0]['params']['tsp'][0]['datetime']}}</h6>
                </span>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 p-2">
            <div class="card card-common">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <!-- <i class="fa fa-users fa-3x text-info"></i> -->
                  <div class="text-right text-secondary">
                    <h5>PM 1</h5>
                    <h6>{{this.latestDataChart[2]}}</h6>
                  </div>
                </div>
              </div>
              <div class="card-footer text-secondary">
                <!-- <i class="fa fa-sync mr-3"></i> -->
                <span>
                  <h6>{{latestData[0]['params']['pm1'][0]['datetime']}}</h6>
                </span>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 p-2">
            <div class="card card-common">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <!-- <i class="fa fa-chart-line fa-3x text-danger"></i> -->
                  <div class="text-right text-secondary">
                    <h5>PM 10</h5>
                    <h6>{{this.latestDataChart[3]}}</h6>
                  </div>
                </div>
              </div>
              <div class="card-footer text-secondary">
                <!-- <i class="fa fa-sync mr-3"></i> -->
                <span>
                  <h6>{{latestData[0]['params']['pm10'][0]['datetime']}}</h6>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

    
    </div>
  </div>
</section>


<div class="container-fluid">
  <div class="row">
    <div class="col-9">
      <canvas id="myChart" width="700" height="400"></canvas>
    </div>
    <div class="col-3 mt-4">
      <div [className]="'w-100 btn btn-'+reportData['color']" >
         {{'PM25 +'+latestDataChart[3]+' '+reportData['text']}}
      </div>
    </div>
  </div>
</div>